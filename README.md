# Восток Транзит  

Основной сайт - https://vostok-transit-gk.ru/  
Тестовый сайт - <укажите url тестового сайта>  
Сайт с версткой - <укажите url сайта с версткой>  

## Как развернуть проект на локальной машине  

**Внимание. Для работы с проектом необходим web server с php 8.1. Для windows подойдет Open server.**  
**Для правильной работы системы сборки фронт-енда нужна node версии 14.15.4**

**1.** Клонировать репозиторий.

> В репозитории присутствуют символические ссылки. Поэтому для windows нужно убедиться, что включена поддержка символических
> ссылок или клонировать репозиторий командой `git clone -c core.symlinks=true <url>`

**2.** Настроить веб сервер для работы с директорией `sites/verstka` для фронт-енд части проекта и `sites/s1` для проекта  на битрикс.  
**3.** composer install (установит зависимости для php).  
**4.** npm install (если нужно работать с фронтенд частью проекта).   
**5.** Скопировать .env.example в .env и установить переменные окружения.  
**6.** Развернуть резервную копию битрикс для бек-енд части проекта.  

## Frontend

### Как запустить систему сборки  

Открыть файл **.env** в корне проекта и установить `MODE="dev"`  
Открыть консоль в корне репозитория и выполнить команду:
```shell script
HOST=http://<url локального сайта> npm run start
```
Сайт откроется автоматически. Теперь при изменении sass или js проект обновляется автоматически

### Как собрать проект

Открыть файл **.env** в корне проекта и установить `MODE="frontend-demonstration"`  
Открыть консоль в корне репозитория и выполнить команду:
```shell script
npm run build
```

Команда соберет проект. Теперь можно открыть <url локального сайта> и посмотреть как сайт будет выглядеть на боевом
сервере.
